<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Управление шаблонами</title>
    <style>
        body { font-family: sans-serif; background: #121212; color: white; padding: 20px; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #555; padding: 10px; text-align: left; }
        th { background: #333; }
        img { max-height: 100px; }
        input[type="text"] { width: 100%; padding: 4px; }
        button { padding: 6px 12px; margin-top: 4px; }
    </style>
</head>
<body>
<h1>Управление шаблонами</h1>

<h2>Добавить шаблон</h2>
<form method="post">
    {% csrf_token %}
    <input type="text" name="add_url" placeholder="Image URL">
    <button type="submit">Добавить</button>
</form>

<table>
    <tr>
        <th>ID</th>
        <th>Изображение</th>
        <th>Теги</th>
        <th>Действия</th>
    </tr>
    {% for template in templates %}
    <tr>
        <td>{{ template.id }}</td>
        <td><img src="{{ template.image_url }}" alt=""></td>
        <td>
            <form method="post" style="display:inline;">
                {% csrf_token %}
                <input type="hidden" name="edit_id" value="{{ template.id }}">
                <input type="text" name="edit_tags" value="{{ template.tags|join:', ' }}">
                <button type="submit">Обновить</button>
            </form>
        </td>
        <td>
            <form method="post" style="display:inline;">
                {% csrf_token %}
                <input type="hidden" name="delete_id" value="{{ template.id }}">
                <button type="submit" style="background:red;color:white;">Удалить</button>
            </form>
        </td>
    </tr>
    {% endfor %}
</table>

</body>
</html>
